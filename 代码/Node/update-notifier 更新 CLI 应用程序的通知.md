## 前言
Hello，大家好，这里是V同学

今天我们又来看源码了

今天若川大大没有写源码阅读的掘金文章

正好，可以让我们一试身手

考验一下我们之前跟随着川大的源码所锻炼的源码阅读能力

今天我们要看的是 update-notifier 的源码

老样子，在我们阅读源码之前，先分析一手，看看这个到底是干嘛用的吧

## 分析
这个是我们本期源码阅读的[代码仓库](https://github.com/yeoman/update-notifier)

大家可以先克隆下来，我们且慢慢分析

我们可以用[[5w1h分析法]]来试着去分析一下

### 5w1h

那么什么是5w1h呢，简单来说就是从

- 原因（Why）
- 对象（What）
- 地点（Where）
- 时间（When）
- 人员（Who）
- 方法（How）

这六个纬度去思考

那我们就一个一个来

### What

首先，我们要来看看本期源码是什么

通过度娘，我们可以大致的了解到，我们本期要看的源码

似乎是一个和更新有关的工具，可以更新你的npm包和cli应用程序

![百度](https://cdn.jsdelivr.net/gh/Vixcity/FigureBed/img/202110211032380.jpg)

我们在看一下仓库的readme

![readme](https://cdn.jsdelivr.net/gh/Vixcity/FigureBed/img/202110211034793.png)

现在就非常的清晰明了了，这是一个以非入侵的方式通知你更新的这么一个工具

### Why

那么我们为什么要读它的源码呢

有一下几点
```bash
1. 美化终端输出信息，描绘边框。
2. 我们可以学会怎么去开启子进程
3.  给一个node方法作为传参的几种方式
4.  通过configstore这个库我们能够持久化存储一些信息
5.  通过latest-version获取对应pkg包的最新版本信息
```

### Who
谁应该去读他的源码

以下几类人适合去读他的源码，当然也适合来看看我的源码阅读的文章

```bash
1. 源码爱好者
2. 学习爱好者
3. 希望能学到东西的人
4. V同学的粉丝😜
……
```

在我的源码阅读的文章里面，我会一步一步的手摸手教你怎么去拆分阅读以及调试源码

### Where

在哪里学的话，这个大家可以视实际情况而定

### When

什么时候学的也取决于你的最佳学习时间，每个人的最佳的专注和学习时间不一样

具体的话视个人情况而定

### How
那么我们就到了最关键的一点

怎么去读

没有度过源码的同学请放心

跟着V同学走，手摸手，包你药到命除🤪

额不不不，是药到病除

## 安装依赖

刚刚，我们把仓库的地址克隆下来了，那么接下来我们就安装一下依赖吧

进入到对应的仓库地址

输入一下命令

```bash 
npm i 

或者

yarn
```

## 进入测试

测试非常的重要，他可以让我们非常清晰的了解

一个框架的功能以及作者写这个测试的意图，所以我们看源码，可以先看看测试

我这边用的是 vscode

找到 package.json 文件，点击`调试`进入测试

![进入测试](https://cdn.jsdelivr.net/gh/Vixcity/FigureBed/img/202110211055408.png)

有人说了，我用的不是vscode怎么办呢

其实也简单的

首先还是先问问百度，你是用的编译器是否有对应的测试插件

没有的话，可以在编译器的控制台输入测试中的命令

```bash
npm run test

或者

yarn test
```

即可运行对应的测试，这个是看全部代码的方式

那么今天我们只看核心代码

所以我们进入example 这个 JS 文件里面去