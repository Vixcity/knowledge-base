只会在初始化渲染完成的时候执行一次

在更新数据的时候，不会在执行

传入两个参数，一个函数，一个依赖数组

当数组有值的时候，更改里面的数据的值会触发重新执行

当为空数组的时候，只在初始化渲染的时候进行执行一遍

当在 useEffect 传入的第一个函数当中 return 一个新的函数出去

那么这个新的函数会在组件销毁的时候被调用，也就是它的生命周期

创建、更新、销毁，都会执行

例子：

```ts 
useEffect(() => {
  console.log("question card mounted"); 

  return () => {
    console.log("question card destroy", id);
  };
}, []);
```

刚刚说了，useEffect 只会执行一次，但是组件却渲染了两次，这是为什么呢

因为他先渲染了一次，之后再渲染了一次

所以感觉起来像执行了两次

这个特性是在 React 18 中开始的，只在开发环境中生效，生产环境只会执行一次

其中原因是他会模拟组件创建，销毁，在创建的完整流程，及早暴露问题